{% extends 'base.html' %}
{% load staticfiles %}
{% load mptt_tags %}
{% block title %}关于 - 2zzy 爱钻研{% endblock %}
{% block content %}
    <div class="container">
    <div class="row">
        <div class="col-lg-8" style="line-height:2">
            <div class="card rounded-0 border-0 p-3 f-26">
                <h2 class="font-weight-bold">先说说我自己</h2>
                <hr style="margin: .1rem;dashed #333;"/>
                <ul class="pl-4 ml-2">
                    <li>站长目前是在日本工作的程序员，是一个标准的社畜</li>
                    <li>本人以前在国内是美术生，干过城管，后来又到日本来拿了经济学学位，毕业后从事IT行业</li>
                    <li>就连找工作时，面试官都会问我，你的人生道路为啥这么曲折 (笑)</li>
                    <li>其实我一直很喜欢乔布斯说过的一句话；"connecting the dots"

                    </li>
                    <li>一般成功人士对年轻人的建议都是说一定要有明确的目标，要朝着目标前行，直到成功。这种说法是对的，在很多情况下。有一些人，他们很早就知道自己想要成为什么样的人，他们一直朝着目标努力，最后取得了很大的成就。但是这种人太少了。</li>
                    <li>王小波说：“根据我的经验，人在年轻时，最头疼的一件事就是决定自己这一生要做什么。”</li>
                    <li>也许我永远不会成为所谓的成功人士，但是我却无时无刻想着如何把“点连成线”，以此为契机，于是诞生了这个网站。</li>
                    <li>站长是个健身小白，编程擅于写BUG，画画很烂，乐于接受批评，欢迎留言指教，有问题可以发邮件给我</li>
                    <li>beaock@gmail.com</li>
                </ul>
                <h2 class="mt-2 font-weight-bold">关于网站域名</h2>
                <hr style="margin: .1rem;dashed #333;"/>
                <ul class="pl-4 ml-2">
                    <li>为什么是"2zzy 爱钻研"?</li>
                    <li>答: 因为短。</li>
                    <li>我承认，它是没有任何意义的，反过来说其实词汇，字母的意义都是人类赋予的
                    </li>
                    <li>当一个网站有了意义，域名便有了意义，就像qq，163本来就没有什么意义</li>
                    <li>作为一个兴趣爱好广泛的站长，一开始没有意义反倒成了一种优势，你可以拿它来做任何事情而不会有限制</li>
                    <li>喜欢钻研各个领域的我，恰好赋予它一个意义，可以好记一些</li>
                    <li>以前我曾用过WordPress和Typecho搭建过一些网站和博客，因为本人不太懂PHP，对自己网站的架构很不了解，很难进行二次开发</li>
                    <li>我很喜欢Python这门语言，偶然的机会在Github上看到了一个开源项目，前端采用了 Bootstrap4 + jQuery，后端采用了Python + Django，正好是我熟悉的语言和框架，此项目作者是<a href="https://github.com/Hopetree"
                    target="_blank">Hopetree</a></li>
                    <li>于是我对此开源代码进行了二次开发，此项目将会是我长期维护的项目，网站已经成功续航 {{ site_date|timesince }}</li>

                </ul>
                <h2 class="mt-2 font-weight-bold">TODO >>></h2>
                <hr style="margin: .1rem;dashed #333;"/>
                <ul class="pl-4 ml-2">
                    <li>添加身体各项指标管理</li>
                    <li>添加小工具</li>
                    <li>BMI计算器</li>
                    <li>TDEE计算器</li>
                    <li>增肌减脂饮食计算器</li>
                    <li>workout配重管理</li>
                    <li>身体指标变化数据可视化</li>
                    <li>社交功能强化</li>
                    <li>用户ID后跟体脂体重标签</li>
                    <li>增加邮箱验证</li>
                    <li>... ...</li>
                </ul>

            </div>
        </div>
    </div>
</div>

    <script src="https://cdn.bootcss.com/echarts/4.1.0.rc2/echarts.js"></script>
    <script src="https://cdn.bootcss.com/leaflet/1.3.1/leaflet.js"></script>
    <script src="{% static 'echarts/extension/echarts-leaflet/dist/echarts-leaflet.js' %}"></script>

    <script>
        $(document).ready(function () {
            var data = [
                {
                    name: '成都',
                    value: 100
                },
                {
                    name: '乐山',
                    value: 100
                },
                {
                    name: '峨眉',
                    value: 100
                },
                {
                    name: '泸沽湖',
                    value: 140
                },
                {
                    name: '泰安',
                    value: 100
                },
                {
                    name: '马尔代夫',
                    value: 180
                },
                {
                    name: '清迈',
                    value: 150
                },
                {
                    name: '九寨沟',
                    value: 120
                },
                {
                    name: '巴厘岛',
                    value: 150
                },
                {
                    name: '眉山',
                    value: 100
                },
                {
                    name: '西岭雪山',
                    value: 100
                },
                {
                    name: '三亚',
                    value: 100
                },
                {
                    name: '康定',
                    value: 100
                },
                {
                    name: '龙苍沟',
                    value: 100
                },
                {
                    name: '巴黎',
                    value: 180
                },
                {
                    name: '米兰',
                    value: 100
                },
                {
                    name: '威尼斯',
                    value: 120
                },
                {
                    name: '罗马',
                    value: 180
                },
                {
                    name: '青城山',
                    value: 100
                },
                {
                    name: '映秀',
                    value: 100
                },
                {
                    name: '汶川',
                    value: 100
                },
                {
                    name: '西安',
                    value: 100
                },
                {
                    name: '香港',
                    value: 120
                },
                {
                    name: '澳门',
                    value: 100
                },
                {
                    name: '上海',
                    value: 100
                },
                {
                    name: '南京',
                    value: 100
                },
                {
                    name: '北京',
                    value: 100
                },
                {
                    name: '长春',
                    value: 100
                },
                {
                    name: '巴彦浩特',
                    value: 130
                },
                {
                    name: '四姑娘山',
                    value: 100
                },
                {
                    name: '武汉',
                    value: 100
                },
                {
                    name: '泰山',
                    value: 100
                },
                {
                    name: '若尔盖草原',
                    value: 100
                },
                {
                    name: '杭州',
                    value: 100
                },
                {
                    name: '临沂',
                    value: 100
                },
                {
                    name: '绵阳',
                    value: 100
                },
                {
                    name: '济南',
                    value: 100
                },
                {
                    name: '重庆',
                    value: 100
                },
                {
                    name: '合川',
                    value: 100
                },
                {
                    name: '福州',
                    value: 100
                },
                {
                    name: '泰安',
                    value: 100
                },
                {
                    name: '扬州',
                    value: 100
                }, {
                    name: '新加坡',
                    value: 115
                },
                {
                    name: '天津',
                    value: 100
                },
                {
                    name: '哈尔滨',
                    value: 100
                },
                {
                    name: '西双版纳',
                    value: 110
                }, {
                    name: '清莱',
                    value: 110
                }, {
                    name: '海口',
                    value: 90
                },
            ];

            var geoCoordMap = {
                '成都': [104.0647735044, 30.5702183724],
                '乐山': [103.7653969946, 29.5522198488],
                '峨眉': [103.3400708493, 29.5658288049],
                '泸沽湖': [100.8553391264, 27.7254845785],
                '泰安': [117.0884158791, 36.1999559476],
                '马尔代夫': [73.4008996000, 4.0966164000],
                '清迈': [98.9817163000, 18.7060641000],
                '九寨沟': [103.9185994000, 33.2600421000],
                '巴厘岛': [115.1889160000, -8.4095178000],
                '眉山': [103.8483960000, 30.0772800000],
                '西岭雪山': [103.1729170000, 30.6144710000],
                '三亚': [109.5119090000, 18.2528470000],
                '康定': [101.9571450000, 29.9984350000],
                '龙苍沟': [102.8442680000, 29.6926200000],
                '巴黎': [2.3522219000, 48.8566140000],
                '米兰': [9.1899820000, 45.4642035000],
                '威尼斯': [12.3155151000, 45.4408474000],
                '罗马': [12.4963655000, 41.9027835000],
                '青城山': [103.5166667000, 30.9666667000],
                '映秀': [103.4914630000, 31.0574880000],
                '汶川': [103.5903860000, 31.4768220000],
                '西安': [108.9397700000, 34.3415740000],
                '香港': [114.1094970000, 22.3964280000],
                '澳门': [113.5438730000, 22.1987450000],
                '上海': [121.4737021000, 31.2303904000],
                '南京': [118.7968770000, 32.0602550000],
                '北京': [116.4073963000, 39.9041999000],
                '长春': [125.3235440000, 43.8170710000],
                '巴彦浩特': [105.6689990000, 38.8335070000],
                '四姑娘山': [102.9019690000, 31.1104490000],
                '武汉': [114.3052387810, 30.5927599029],
                '泰山': [117.0907475635, 36.2698773695],
                '若尔盖草原': [102.4982306617, 33.3524545731],
                '杭州': [120.2099483921, 30.2458576754],
                '临沂': [118.3264247699, 35.0652761401],
                '绵阳': [104.7417237141, 31.4640314467],
                '济南': [117.1200073354, 36.6512294720],
                '重庆': [106.5504477149, 29.5637558135],
                '合川': [106.2761257812, 29.9720848646],
                '福州': [119.2963656153, 26.0742559397],
                '泰安': [117.1290737812, 36.1949862369],
                '扬州': [119.4210033352, 32.3931686010],
                '新加坡': [103.8198360000, 1.3520830000],

                '天津': [117.1993482089, 39.0850853357],
                '哈尔滨': [126.5358247345, 45.8021755616],
                '西双版纳': [100.7973891678, 22.0074942004],
                '清莱': [99.8405760000, 19.9104798000],
                '海口': [110.1982860000, 20.0444120000],
            };

            var convertData = function (data) {
                var res = [];
                for (var i = 0; i < data.length; i++) {
                    var geoCoord = geoCoordMap[data[i].name];
                    if (geoCoord) {
                        res.push({
                            name: data[i].name,
                            value: geoCoord.concat(data[i].value)
                        });
                    }
                }
                return res;
            };

            var myChart = echarts.init(document.getElementById('main'));

            myChart.setOption({
                title: {
                    text: '我的足迹',
                    left: 'center',
                    textStyle: {
                        color: '#000'
                    }
                },
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}',
                },
                leaflet: {
                    center: [80, 30],
                    zoom: 2,
                    roam: true,
                    layerControl: {
                        position: 'topright'
                    },
                    tiles: [
                        {
                            label: 'Open Street Map',
                            urlTemplate: 'https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
                            options: {
                                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'
                            }
                        },
                        {
                            label: '天地图',
                            urlTemplate: 'http://t2.tianditu.com/DataServer?T=vec_w&x={x}&y={y}&l={z}',
                            options: {
                                attribution: 'tianditu.com'
                            }
                        },
                    ]
                },
                series: [{
                    name: 'pm2.5',
                    type: 'scatter',
                    coordinateSystem: 'leaflet',
                    data: convertData(data),
                    symbolSize: function (val) {
                        return val[2] / 10;
                    },
                    label: {
                        normal: {
                            formatter: '{b}',
                            position: 'right',
                            show: false,
                            color: '#000'
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    itemStyle: {
                        normal: {
                            color: '#ddb926'
                        }
                    }
                },
                    {
                        name: 'Top 5',
                        type: 'effectScatter',
                        coordinateSystem: 'leaflet',
                        data: convertData(data.sort(function (a, b) {
                            return b.value - a.value;
                        }).slice(0, 11)),
                        symbolSize: function (val) {
                            return val[2] / 10;
                        },
                        showEffectOn: 'render',
                        rippleEffect: {
                            brushType: 'stroke'
                        },
                        hoverAnimation: true,
                        label: {
                            normal: {
                                formatter: '{b}',
                                position: 'right',
                                show: true,
                                color: '#000'
                            }
                        },
                        itemStyle: {
                            normal: {
                                color: '#f4e925',
                                shadowBlur: 10,
                                shadowColor: '#333'
                            }
                        },
                        zlevel: 1
                    }
                ]
            });

            // https://developer.mozilla.org/en-US/docs/Web/Events/resize
            (function () {
                var throttle = function (type, name, obj) {
                    obj = obj || window;
                    var running = false;
                    var func = function () {
                        if (running) {
                            return;
                        }
                        running = true;
                        requestAnimationFrame(function () {
                            obj.dispatchEvent(new CustomEvent(name));
                            running = false;
                        });
                    };
                    obj.addEventListener(type, func);
                };

                /* init - you can init any event */
                throttle("resize", "optimizedResize");
            })();

            // handle event
            window.addEventListener("optimizedResize", function () {
                myChart.resize({
                    width: 'auto',
                    height: 'auto'
                });
            });
        });
    </script>

{% endblock %}